---
title: è¯­æ³•æ¦‚è¿°
layout: page
category: grammar
date: 2012-12-14
modifiedOn: 2013-12-08
---

## åŸºæœ¬å¥æ³•å’Œå˜é‡

### è¯­å¥

JavaScriptç¨‹åºçš„æ‰§è¡Œå•ä½ä¸ºè¡Œï¼ˆlineï¼‰ï¼Œä¹Ÿå°±æ˜¯ä¸€è¡Œä¸€è¡Œåœ°æ‰§è¡Œã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ¯ä¸€è¡Œå°±æ˜¯ä¸€ä¸ªè¯­å¥ã€‚

è¯­å¥ï¼ˆstatementï¼‰æ˜¯ä¸ºäº†å®ŒæˆæŸç§ä»»åŠ¡è€Œè¿›è¡Œçš„æ“ä½œï¼Œæ¯”å¦‚ä¸‹é¢å°±æ˜¯ä¸€è¡Œèµ‹å€¼è¯­å¥ï¼š

{% highlight javascript %}

var a = 1 + 3 ;

{% endhighlight %}

è¿™æ¡è¯­å¥å…ˆç”¨varå‘½ä»¤ï¼Œå£°æ˜äº†å˜é‡aï¼Œç„¶åå°† 1+3 çš„è¿ç®—ç»“æœèµ‹å€¼ç»™å˜é‡aã€‚

â€œ1+3â€å«åšè¡¨è¾¾å¼ï¼ˆexpressionï¼‰ï¼ŒæŒ‡ä¸€ä¸ªä¸ºäº†å¾—åˆ°è¿”å›å€¼çš„è®¡ç®—å¼ã€‚è¯­å¥å’Œè¡¨è¾¾å¼çš„åŒºåˆ«åœ¨äºï¼Œå‰è€…ä¸»è¦ä¸ºäº†è¿›è¡ŒæŸç§æ“ä½œï¼Œåè€…åˆ™æ˜¯ä¸ºäº†å¾—åˆ°è¿”å›å€¼ã€‚å‡¡æ˜¯JavaScriptè¯­è¨€ä¸­é¢„æœŸä¸ºå€¼çš„åœ°æ–¹ï¼Œéƒ½å¯ä»¥ä½¿ç”¨è¡¨è¾¾å¼ã€‚æ¯”å¦‚ï¼Œèµ‹å€¼è¯­å¥çš„ç­‰å·å³è¾¹ï¼Œé¢„æœŸæ˜¯ä¸€ä¸ªå€¼ï¼Œå› æ­¤å¯ä»¥æ”¾ç½®å„ç§è¡¨è¾¾å¼ã€‚

è¯­å¥ä»¥åˆ†å·ç»“å°¾ï¼Œä¸€ä¸ªåˆ†å·å°±è¡¨ç¤ºä¸€ä¸ªè¯­å¥ç»“æŸã€‚å¤šä¸ªè¯­å¥å¯ä»¥å†™åœ¨ä¸€è¡Œå†…ã€‚

{% highlight javascript %}

var a = 1 + 3 ; var b = "abc";

{% endhighlight %}

åˆ†å·å‰é¢å¯ä»¥æ²¡æœ‰ä»»ä½•å†…å®¹ï¼ŒJavaScriptå¼•æ“å°†å…¶è§†ä¸ºç©ºè¯­å¥ã€‚

{% highlight javascript %}

;;;

{% endhighlight %}

ä¸Šé¢çš„ä»£ç å°±è¡¨ç¤º3ä¸ªç©ºè¯­å¥ã€‚ï¼ˆå…³äºåˆ†å·çš„æ›´å¤šä»‹ç»ï¼Œè¯·çœ‹åæ–‡ã€Šç»“å°¾çš„åˆ†å·ã€‹ä¸€èŠ‚ã€‚ï¼‰

è¡¨è¾¾å¼ä¸éœ€è¦åˆ†å·ç»“å°¾ã€‚ä¸€æ—¦åœ¨è¡¨è¾¾å¼åé¢æ·»åŠ åˆ†å·ï¼Œåˆ™JavaScriptå¼•æ“å°±å°†è¡¨è¾¾å¼è§†ä¸ºè¯­å¥ï¼Œè¿™æ ·ä¼šäº§ç”Ÿä¸€äº›æ²¡æœ‰ä»»ä½•æ„ä¹‰çš„è¯­å¥ã€‚

{% highlight javascript %}

1 + 3;

"abc";

{% endhighlight %}

ä¸Šé¢ä¸¤è¡Œè¯­å¥æœ‰è¿”å›å€¼ï¼Œä½†æ˜¯æ²¡æœ‰ä»»ä½•æ„ä¹‰ï¼Œå› ä¸ºåªæ˜¯è¿”å›ä¸€ä¸ªå•çº¯çš„å€¼ï¼Œæ²¡æœ‰ä»»ä½•å…¶ä»–æ“ä½œã€‚

### å˜é‡

å˜é‡æ˜¯å¯¹â€œå€¼â€çš„å¼•ç”¨ï¼Œä½¿ç”¨å˜é‡ç­‰åŒäºå¼•ç”¨ä¸€ä¸ªå€¼ã€‚æ¯ä¸€ä¸ªå˜é‡éƒ½æœ‰ä¸€ä¸ªå˜é‡åã€‚

{% highlight javascript %}

var a = 1;

{% endhighlight %}

ä¸Šé¢çš„ä»£ç å…ˆå£°æ˜å˜é‡aï¼Œç„¶ååœ¨å˜é‡aä¸æ•°å€¼1ä¹‹é—´å»ºç«‹å¼•ç”¨å…³ç³»ï¼Œä¹Ÿç§°å°†æ•°å€¼1â€œèµ‹å€¼â€ç»™å˜é‡aã€‚ä»¥åï¼Œå¼•ç”¨å˜é‡aå°±ä¼šå¾—åˆ°æ•°å€¼1ã€‚æœ€å‰é¢çš„varï¼Œæ˜¯å˜é‡å£°æ˜å‘½ä»¤ã€‚å®ƒè¡¨ç¤ºé€šçŸ¥è§£é‡Šå¼•æ“ï¼Œè¦åˆ›å»ºä¸€ä¸ªå˜é‡aã€‚

å˜é‡çš„å£°æ˜å’Œèµ‹å€¼ï¼Œæ˜¯åˆ†å¼€çš„ä¸¤ä¸ªæ­¥éª¤ï¼Œä¸Šé¢çš„ä»£ç å°†å®ƒä»¬åˆåœ¨äº†ä¸€èµ·ï¼Œå®é™…çš„æ­¥éª¤æ˜¯ä¸‹é¢è¿™æ ·ã€‚

{% highlight javascript %}

var a;

a = 1;

{% endhighlight %}

å¦‚æœåªæ˜¯å£°æ˜å˜é‡è€Œæ²¡æœ‰èµ‹å€¼ï¼Œåˆ™è¯¥å˜é‡çš„å€¼ä¸ºundefinedã€‚

{% highlight javascript %}

var a;
a
// undefined

{% endhighlight %}

JavaScriptå…è®¸çœç•¥varï¼Œç›´æ¥å¯¹æœªå£°æ˜çš„å˜é‡èµ‹å€¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œvar a = 1 ä¸ a = 1ï¼Œè¿™ä¸¤æ¡è¯­å¥çš„æ•ˆæœç›¸åŒã€‚ä½†æ˜¯ç”±äºè¿™æ ·çš„åšæ³•å¾ˆå®¹æ˜“ä¸çŸ¥ä¸è§‰åœ°åˆ›å»ºå…¨å±€å˜é‡ï¼ˆå°¤å…¶æ˜¯åœ¨å‡½æ•°å†…éƒ¨ï¼‰ï¼Œæ‰€ä»¥å»ºè®®æ€»æ˜¯ä½¿ç”¨varå‘½ä»¤å£°æ˜å˜é‡ã€‚

> ä¸¥æ ¼åœ°è¯´ï¼Œvar a = 1 ä¸ a = 1ï¼Œè¿™ä¸¤æ¡è¯­å¥çš„æ•ˆæœä¸å®Œå…¨ä¸€æ ·ï¼Œä¸»è¦ä½“ç°åœ¨deleteå‘½ä»¤æ— æ³•åˆ é™¤å‰è€…ã€‚ä¸è¿‡ï¼Œç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™ç§å·®å¼‚æ˜¯å¯ä»¥å¿½ç•¥çš„ã€‚

å¦‚æœä¸€ä¸ªå˜é‡æ²¡æœ‰å£°æ˜å°±ç›´æ¥ä½¿ç”¨ï¼ŒJavaScriptä¼šæŠ¥é”™ï¼Œå‘Šè¯‰ä½ å˜é‡æœªå®šä¹‰ã€‚

{% highlight javascript %}

x
// ReferenceError: x is not defined 

{% endhighlight %}

ä¸Šé¢ä»£ç ç›´æ¥ä½¿ç”¨å˜é‡xï¼Œç³»ç»Ÿå°±æŠ¥é”™ï¼Œå‘Šè¯‰ä½ å˜é‡xæ²¡æœ‰å£°æ˜ã€‚

å¯ä»¥åœ¨åŒä¸€æ¡varå‘½ä»¤ä¸­å£°æ˜å¤šä¸ªå˜é‡ã€‚

{% highlight javascript %}

var a,b;

{% endhighlight %}

JavaScirptæ˜¯ä¸€ç§åŠ¨æ€ç±»å‹è¯­è¨€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå˜é‡çš„ç±»å‹æ²¡æœ‰é™åˆ¶ï¼Œå¯ä»¥èµ‹äºˆå„ç§ç±»å‹çš„å€¼ã€‚

{% highlight javascript %}

var a = 1;

a = "hello";

{% endhighlight %}

ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡aèµ·å…ˆè¢«èµ‹å€¼ä¸ºä¸€ä¸ªæ•°å€¼ï¼Œåæ¥åˆè¢«é‡æ–°èµ‹å€¼ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ç¬¬äºŒæ¬¡èµ‹å€¼çš„æ—¶å€™ï¼Œå› ä¸ºå˜é‡aå·²ç»å­˜åœ¨ï¼Œæ‰€ä»¥ä¸éœ€è¦ä½¿ç”¨varå‘½ä»¤ã€‚å¦‚æœç”¨äº†ï¼Œå°±ç­‰äºé‡æ–°å£°æ˜ä¸€ä¸ªå˜é‡aï¼Œä¼šè¦†ç›–æ‰å‰é¢çš„åŒåå˜é‡ã€‚

### å˜é‡æå‡

JavaScriptå¼•æ“çš„å·¥ä½œæ–¹å¼æ˜¯ï¼Œå…ˆè§£æä»£ç ï¼Œè·å–æ‰€æœ‰è¢«å£°æ˜çš„å˜é‡ï¼Œç„¶åå†ä¸€è¡Œä¸€è¡Œåœ°è¿è¡Œã€‚è¿™é€ æˆçš„ç»“æœï¼Œå°±æ˜¯æ‰€æœ‰çš„å˜é‡çš„å£°æ˜è¯­å¥ï¼Œéƒ½ä¼šè¢«æå‡åˆ°ä»£ç çš„å¤´éƒ¨ï¼Œè¿™å°±å«åšå˜é‡æå‡ã€‚

{% highlight javascript %}

console.log(a);
var a = 1;

{% endhighlight %}

ä¸Šé¢çš„ä»£ç é¦–å…ˆä½¿ç”¨console.logæ–¹æ³•ï¼Œåœ¨æ§åˆ¶å°ï¼ˆconsoleï¼‰æ˜¾ç¤ºå˜é‡açš„å€¼ã€‚è¿™æ—¶å˜é‡aè¿˜æ²¡æœ‰å£°æ˜å’Œèµ‹å€¼ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€ç§é”™è¯¯çš„åšæ³•ï¼Œä½†æ˜¯å®é™…ä¸Šä¸ä¼šæŠ¥é”™ã€‚å› ä¸ºå­˜åœ¨å˜é‡æå‡ï¼ŒçœŸæ­£è¿è¡Œçš„æ˜¯ä¸‹é¢çš„ä»£ç ï¼š

{% highlight javascript %}

var a;
console.log(a);
a = 1;

{% endhighlight %}

æœ€åçš„ç»“æœæ˜¯æ˜¾ç¤ºundefinedï¼Œè¡¨ç¤ºå˜é‡aå·²å£°æ˜ï¼Œä½†è¿˜æœªèµ‹å€¼ã€‚

è¯·æ³¨æ„ï¼Œå˜é‡æå‡åªå¯¹varå‘½ä»¤å£°æ˜çš„å˜é‡æœ‰æ•ˆï¼Œå¦‚æœä¸€ä¸ªå˜é‡ä¸æ˜¯ç”¨varå‘½ä»¤å£°æ˜çš„ï¼Œå°±ä¸ä¼šå‘ç”Ÿå˜é‡æå‡ã€‚

{% highlight javascript %}

console.log(b);
b = 1;

{% endhighlight %}

ä¸Šé¢çš„è¯­å¥å°†ä¼šæŠ¥é”™ï¼Œæç¤ºâ€œReferenceError: b is not definedâ€ï¼Œå³å˜é‡bæœªå£°æ˜ï¼Œè¿™æ˜¯å› ä¸ºbä¸æ˜¯ç”¨varå‘½ä»¤å£°æ˜çš„ï¼ŒJavaScriptå¼•æ“ä¸ä¼šå°†å…¶æå‡ï¼Œè€Œåªæ˜¯è§†ä¸ºå¯¹é¡¶å±‚å¯¹è±¡çš„bå±æ€§çš„èµ‹å€¼ã€‚

### æ ‡è¯†ç¬¦

æ ‡è¯†ç¬¦ï¼ˆidentifierï¼‰æ˜¯ç”¨æ¥è¯†åˆ«å…·ä½“å¯¹è±¡çš„ä¸€ä¸ªåç§°ã€‚æœ€å¸¸è§çš„æ ‡è¯†ç¬¦å°±æ˜¯å˜é‡åï¼Œä»¥åŠåé¢è¦æåˆ°çš„å‡½æ•°åã€‚JavaScriptè¯­è¨€çš„æ ‡è¯†ç¬¦å¯¹å¤§å°å†™æ•æ„Ÿï¼Œæ‰€ä»¥aå’ŒAæ˜¯ä¸¤ä¸ªä¸åŒçš„æ ‡è¯†ç¬¦ã€‚

æ ‡è¯†ç¬¦æœ‰ä¸€å¥—å‘½åè§„åˆ™ï¼Œä¸ç¬¦åˆè§„åˆ™çš„å°±æ˜¯éæ³•æ ‡è¯†ç¬¦ã€‚JavaScriptå¼•æ“é‡åˆ°éæ³•æ ‡è¯†ç¬¦ï¼Œå°±ä¼šæŠ¥é”™ã€‚

ç®€å•è¯´ï¼Œæ ‡è¯†ç¬¦å‘½åè§„åˆ™å¦‚ä¸‹ï¼š

- ç¬¬ä¸€ä¸ªå­—ç¬¦å¯ä»¥æ˜¯ä»»æ„Unicodeå­—æ¯ï¼Œä»¥åŠç¾å…ƒç¬¦å·ï¼ˆ$ï¼‰å’Œä¸‹åˆ’çº¿ï¼ˆ_ï¼‰ã€‚
- ç¬¬äºŒä¸ªå­—ç¬¦åŠåé¢çš„å­—ç¬¦ï¼Œè¿˜å¯ä»¥ç”¨æ•°å­—ã€‚

ä¸‹é¢è¿™äº›éƒ½æ˜¯åˆæ³•çš„æ ‡è¯†ç¬¦ã€‚

{% highlight javascript %}

arg0
_tmp
$elem
Ï€

{% endhighlight %}

ä¸‹é¢è¿™äº›åˆ™æ˜¯ä¸åˆæ³•çš„æ ‡è¯†ç¬¦ã€‚

{% highlight javascript %}

1a
23
***
a+b
-d

{% endhighlight %}

ä¸­æ–‡æ˜¯åˆæ³•çš„æ ‡è¯†ç¬¦ï¼Œå¯ä»¥ç”¨ä½œå˜é‡åã€‚

{% highlight javascript %}

var ä¸´æ—¶å˜é‡ = 1;

{% endhighlight %}

> JavaScriptæœ‰ä¸€äº›ä¿ç•™å­—ï¼Œä¸èƒ½ç”¨ä½œæ ‡è¯†ç¬¦ï¼šargumentsã€breakã€caseã€catchã€classã€constã€continueã€debuggerã€defaultã€deleteã€doã€elseã€enumã€evalã€exportã€extendsã€falseã€finallyã€forã€functionã€ifã€implementsã€importã€inã€instanceofã€interfaceã€letã€newã€nullã€packageã€privateã€protectedã€publicã€returnã€staticã€superã€switchã€thisã€throwã€trueã€tryã€typeofã€varã€voidã€whileã€withã€yieldã€‚

å¦å¤–ï¼Œè¿˜æœ‰ä¸‰ä¸ªè¯è™½ç„¶ä¸æ˜¯ä¿ç•™å­—ï¼Œä½†æ˜¯å› ä¸ºå…·æœ‰ç‰¹åˆ«å«ä¹‰ï¼Œä¹Ÿä¸åº”è¯¥ç”¨ä½œæ ‡è¯†ç¬¦ï¼šInfinityã€NaNã€undefinedã€‚

### æ³¨é‡Š

æºç ä¸­è¢«JavaScriptå¼•æ“å¿½ç•¥çš„éƒ¨åˆ†å°±å«åšæ³¨é‡Šï¼Œå®ƒçš„ä½œç”¨æ˜¯å¯¹ä»£ç è¿›è¡Œè§£é‡Šã€‚Javascriptæä¾›ä¸¤ç§æ³¨é‡Šï¼šä¸€ç§æ˜¯å•è¡Œæ³¨é‡Šï¼Œç”¨//èµ·å¤´ï¼›å¦ä¸€ç§æ˜¯å¤šè¡Œæ³¨é‡Šï¼Œæ”¾åœ¨/\* å’Œ \*/ä¹‹é—´ã€‚

{% highlight javascript %}

// è¿™æ˜¯å•è¡Œæ³¨é‡Š

/*
 è¿™æ˜¯  
 å¤šè¡Œ
 æ³¨é‡Š
*/

{% endhighlight %}

æœ¬æ•™ç¨‹åé¢çš„ä»£ç éƒ¨åˆ†ï¼Œä¼šé‡‡ç”¨è¿™ä¸¤ç§å½¢å¼è¯´æ˜ä»£ç çš„è¿è¡Œç»“æœï¼Œä»¥åŠéœ€è¦æ³¨æ„çš„åœ°æ–¹ã€‚

### åŒºå—

JavaScriptä½¿ç”¨å¤§æ‹¬å·ï¼Œå°†ç›¸å…³çš„è¯­å¥ç»„åˆåœ¨ä¸€èµ·ï¼Œç§°ä¸ºâ€œåŒºå—â€ï¼ˆblockï¼‰ã€‚

ä¸å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€ä¸ä¸€æ ·ï¼ŒJavaScriptçš„åŒºå—ä¸æ„æˆå•ç‹¬çš„ä½œç”¨åŸŸï¼ˆscopeï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŒºå—ä¸­çš„å˜é‡å°±æ˜¯å…¨å±€å˜é‡ã€‚

{% highlight javascript %}

{ 
	var a = 1;
}

a
// 1

{% endhighlight %}

ä¸Šé¢ä»£ç åœ¨åŒºå—å†…éƒ¨ï¼Œå£°æ˜å¹¶èµ‹å€¼äº†å˜é‡aï¼Œç„¶ååœ¨åŒºå—å¤–éƒ¨å˜é‡aä¾ç„¶æœ‰æ•ˆï¼Œè¿™è¯´æ˜åŒºå—ä¸æ„æˆå•ç‹¬çš„ä½œç”¨åŸŸã€‚

JavaScriptå…è®¸å¯¹åŒºå—åŠ ä¸Šæ ‡ç­¾ï¼ˆlabelï¼‰ã€‚

{% highlight javascript %}

function test(printTwo) {
    printing: {
        console.log("One");
        if (!printTwo) break printing;
        console.log("Two");
    }
    console.log("Three");
}

test(false)
// One
// Three

{% endhighlight %}

ä¸Šé¢ä»£ç æœ‰ä¸€ä¸ªæ ‡ç­¾ä¸ºprintingçš„åŒºå—ï¼Œå½“ä¸æ»¡è¶³æ¡ä»¶æ—¶ï¼Œå¯ä»¥ä½¿ç”¨breakå‘½ä»¤è·³å‡ºè¯¥åŒºå—ã€‚æ‰€ä»¥ï¼Œè¿è¡Œç»“æœä¸ºOneå’ŒThreeï¼Œæ²¡æœ‰è¾“å‡ºTwoã€‚

### æ¡ä»¶è¯­å¥

**ï¼ˆ1ï¼‰if ç»“æ„**

ifç»“æ„å…ˆåˆ¤æ–­ä¸€ä¸ªè¡¨è¾¾å¼çš„å¸ƒå°”å€¼ï¼Œå¦‚æœä¸ºtrueï¼Œåˆ™æ‰§è¡Œåé¢ä»£ç å—ä¸­çš„ä»£ç ï¼Œå¦‚æœä¸ºfalseï¼Œåˆ™è·³è¿‡ä»£ç å—ä¸­çš„ä»£ç ã€‚

{% highlight javascript %}

if (m === 3) {
     // then
}

{% endhighlight %}

ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œä»£ç å—åªæœ‰åœ¨mç­‰äº3æ—¶ï¼Œæ‰ä¼šå¾—åˆ°æ‰§è¡Œã€‚

ifä»£ç å—åé¢ï¼Œè¿˜å¯ä»¥è·Ÿä¸€ä¸ªelseä»£ç å—ï¼Œè¡¨ç¤ºæ‹¬å·ä¸­çš„è¡¨ç¤ºå¼ä¸ºfalseæ—¶ï¼Œæ‰€è¦æ‰§è¡Œçš„ä»£ç ã€‚

{% highlight javascript %}

 if (m === 3) {
    // then
 } else {
   // else
 }

{% endhighlight %}

ä¸Šé¢ä»£ç åˆ¤æ–­å˜é‡mæ˜¯å¦ç­‰äº3ï¼Œå¦‚æœç­‰äºå°±æ‰§è¡Œifä»£ç å—ï¼Œå¦åˆ™æ‰§è¡Œelseä»£ç å—ã€‚

å¯¹åŒä¸€ä¸ªå˜é‡è¿›è¡Œå¤šæ¬¡åˆ¤æ–­æ—¶ï¼Œå¤šä¸ªif...elseè¯­å¥å¯ä»¥è¿å†™åœ¨ä¸€èµ·ã€‚

{% highlight javascript %}

if (m === 0) {
    // ...
} else if (m === 1) {
   // ...
} else if (m === 2) {
   // ...
} else {
   // ...
}

{% endhighlight %}

**ï¼ˆ2ï¼‰switchç»“æ„**

å¤šä¸ªif...elseè¿åœ¨ä¸€èµ·ä½¿ç”¨çš„æ—¶å€™ï¼Œå¯ä»¥è½¬ä¸ºä½¿ç”¨æ›´æ–¹ä¾¿çš„switchç»“æ„ã€‚

{% highlight javascript %}

switch (fruit) {
	case "banana":
		// ...
		break;
    case "apple":
        // ...
        break;
    default:
        // ...
}

{% endhighlight %}

ä¸Šé¢ä»£ç æ ¹æ®å˜é‡fruitçš„å€¼ï¼Œé€‰æ‹©æ‰§è¡Œç›¸åº”çš„caseã€‚å¦‚æœæ‰€æœ‰caseéƒ½ä¸ç¬¦åˆï¼Œåˆ™æ‰§è¡Œæœ€åçš„defaultéƒ¨åˆ†ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¯ä¸ªcaseä»£ç å—å†…éƒ¨çš„breakè¯­å¥ä¸èƒ½å°‘ï¼Œå¦åˆ™ä¼šæ¥ä¸‹å»æ‰§è¡Œä¸‹ä¸€ä¸ªcaseä»£ç å—ï¼Œè€Œä¸æ˜¯è·³å‡ºswitchç»“æ„ã€‚

switchç»“æ„ä¸åˆ©äºä»£ç é‡ç”¨ï¼Œå¾€å¾€å¯ä»¥ç”¨å¯¹è±¡å½¢å¼é‡å†™ã€‚

{% highlight javascript %}

var o = {
	banana: function (){ return },
	apple: function (){ return },
	default: function (){ return }
};

if (o[fruit]){
	o[fruit]();
} else {
	o['default']();
}

{% endhighlight %}

### å¾ªç¯è¯­å¥

å¾ªç¯è¯­å¥ç”¨äºé‡å¤æ‰§è¡ŒæŸä¸ªæ“ä½œï¼Œå®ƒæœ‰å¤šç§å½¢å¼ã€‚

**ï¼ˆ1ï¼‰whileå¾ªç¯**

Whileè¯­å¥åŒ…æ‹¬ä¸€ä¸ªå¾ªç¯æ¡ä»¶ï¼Œåªè¦è¯¥æ¡ä»¶ä¸ºçœŸï¼Œå°±ä¸æ–­å¾ªç¯ã€‚

{% highlight javascript %}

var i = 0;

while (i<100){
	console.log('iå½“å‰ä¸ºï¼š' + i);
	i++;
}	

{% endhighlight %}

ä¸Šé¢çš„ä»£ç å°†å¾ªç¯100æ¬¡ï¼Œç›´åˆ°iç­‰äº100ä¸ºæ­¢ã€‚

**ï¼ˆ2ï¼‰forå¾ªç¯**

forè¯­å¥åˆ†æˆä¸‰æ­¥ï¼š

- ç¡®å®šåˆå§‹å€¼;
- æ£€æŸ¥å¾ªç¯æ¡ä»¶ï¼Œåªè¦ä¸ºçœŸå°±è¿›è¡Œåç»­æ“ä½œ;
- åç»­æ“ä½œå®Œæˆï¼Œè¿”å›ä¸Šä¸€æ­¥ï¼Œæ£€æŸ¥å¾ªç¯æ¡ä»¶ã€‚

å®ƒçš„æ ¼å¼å¦‚ä¸‹ï¼š

{% highlight javascript %}

for(åˆå€¼; å¾ªç¯æ¡ä»¶; ä¸‹ä¸€æ­¥)

{% endhighlight %}

ç”¨æ³•ï¼š

{% highlight javascript %}

for (var i=0; i < arr.length; i++) {
	console.log(arr[i]);
}

{% endhighlight %}

æ‰€æœ‰forå¾ªç¯ï¼Œéƒ½å¯ä»¥æ”¹å†™æˆwhileå¾ªç¯ã€‚

{% highlight javascript %}

var i = 0;

while (i < arr.length) {
	console.log(arr[i]);
    i++;
}

{% endhighlight %}

**ï¼ˆ3ï¼‰do...whileå¾ªç¯**

do...whileå¾ªç¯ä¸whileå¾ªç¯ç±»ä¼¼ï¼Œå”¯ä¸€çš„åŒºåˆ«å°±æ˜¯å…ˆè¿è¡Œä¸€æ¬¡å¾ªç¯ä½“ï¼Œç„¶ååˆ¤æ–­å¾ªç¯æ¡ä»¶ã€‚

{% highlight javascript %}

do {
	// ...
} while(condition);

{% endhighlight %}

ä¸ç®¡æ¡ä»¶æ˜¯å¦ä¸ºçœŸï¼Œdo..whileå¾ªç¯è‡³å°‘è¿è¡Œä¸€æ¬¡ï¼Œè¿™æ˜¯è¿™ç§ç»“æ„æœ€å¤§çš„ç‰¹ç‚¹ã€‚å¦å¤–ï¼Œwhileè¯­å¥åé¢çš„åˆ†å·ä¸èƒ½çœç•¥ã€‚

**ï¼ˆ4ï¼‰breakè¯­å¥å’Œcontinueè¯­å¥**

å¦‚æœåœ¨å¾ªç¯çš„ä¸­é€”ï¼Œæƒ³è¦è·³å‡ºå¾ªç¯ï¼Œå¯ä»¥ä½¿ç”¨breakè¯­å¥ã€‚å¦‚æœæƒ³ä¸å†è¿›è¡Œæœ¬æ¬¡å¾ªç¯çš„åç»­æ“ä½œï¼Œç›´æ¥è¿›å…¥ä¸‹ä¸€è½®å¾ªç¯ï¼Œå¯ä»¥ä½¿ç”¨continueè¯­å¥ã€‚

{% highlight javascript %}

var i = 0;

while (i<100){
	console.log('iå½“å‰ä¸ºï¼š' + i);
	i++;
	if (i === 10) break;
}

{% endhighlight %}

ä¸Šé¢ä»£ç åªä¼šæ‰§è¡Œ10æ¬¡å¾ªç¯ï¼Œä¸€æ—¦iç­‰äº10ï¼Œå°±ä¼šè·³å‡ºå¾ªç¯ã€‚

{% highlight javascript %}

var i = 0;

while (i<100){
	i++;
	if (i%2===0) continue;
	console.log('iå½“å‰ä¸ºï¼š' + i);
}

{% endhighlight %}

ä¸Šé¢ä»£ç åªæœ‰åœ¨iä¸ºå¥‡æ•°æ—¶ï¼Œæ‰ä¼šè¾“å‡ºiçš„å€¼ã€‚å¦‚æœiä¸ºå¶æ•°ï¼Œåˆ™ç›´æ¥è¿›å…¥ä¸‹ä¸€è½®å¾ªç¯ã€‚

## æ•°æ®ç±»å‹

### åŸå§‹ç±»å‹å’Œåˆæˆç±»å‹

JavaScriptçš„å€¼çš„ç±»å‹åˆ†æˆä¸¤å¤§ç±»ï¼šåŸå§‹ç±»å‹ï¼ˆprimitive typeï¼‰å’Œåˆæˆç±»å‹ï¼ˆcomplex typeï¼‰ã€‚

åŸå§‹ç±»å‹åˆåˆ†æˆä¸‰ç§ã€‚

- æ•°å€¼ï¼ˆnumberï¼‰
- å­—ç¬¦ä¸²ï¼ˆstringï¼‰
- å¸ƒå°”å€¼ï¼ˆbooleanï¼‰

â€œæ•°å€¼â€å°±æ˜¯æ•´æ•°å’Œå°æ•°(æ¯”å¦‚3.14)ï¼Œâ€œå­—ç¬¦ä¸²â€å°±æ˜¯ç”±å¤šä¸ªå­—ç¬¦ç»„æˆçš„æ–‡æœ¬ï¼ˆæ¯”å¦‚"Hello World"ï¼‰ï¼Œâ€œå¸ƒå°”å€¼â€åˆ™æ˜¯trueï¼ˆçœŸï¼‰å’Œfalseï¼ˆå‡ï¼‰ä¸¤ä¸ªç‰¹å®šå€¼ã€‚

åˆæˆç±»å‹ä¹Ÿåˆ†æˆä¸‰ç§ã€‚

- å¯¹è±¡ï¼ˆobjectï¼‰
- æ•°ç»„ï¼ˆarrayï¼‰
- å‡½æ•°ï¼ˆfunctionï¼‰

å¯¹è±¡å’Œæ•°ç»„æ˜¯ä¸¤ç§ä¸åŒçš„æ•°æ®ç»„åˆæ–¹å¼ï¼Œè€Œå‡½æ•°å…¶å®æ˜¯å¤„ç†æ•°æ®çš„æ–¹æ³•ã€‚JavaScriptæŠŠå®ƒå½“æˆä¸€ç§æ•°æ®ç±»å‹ï¼Œå¯ä»¥åƒå…¶ä»–ç±»å‹çš„æ•°æ®ä¸€æ ·ï¼Œè¿›è¡Œèµ‹å€¼å’Œä¼ é€’ï¼Œè¿™ä¸ºç¼–ç¨‹å¸¦æ¥äº†å¾ˆå¤§çš„çµæ´»æ€§ï¼Œä½“ç°äº†JavaScriptä½œä¸ºâ€œå‡½æ•°å¼è¯­è¨€â€çš„æœ¬è´¨ã€‚

é™¤äº†ä¸Šé¢è¿™å…­ç§æ•°æ®ç±»å‹ï¼ŒJavaScriptè¿˜å®šä¹‰ä¸€ä¸ªç‰¹æ®Šçš„æ•°æ®ç±»å‹undefinedå’Œä¸€ä¸ªç‰¹æ®Šçš„å€¼nullã€‚

undefinedè¡¨ç¤ºâ€œæœªå®šä¹‰â€ï¼Œå³è¿˜æ²¡æœ‰ç¡®å®šæ•°æ®ç±»å‹ã€‚å¦‚æœä¸€ä¸ªå˜é‡åªæ˜¯è¢«å£°æ˜ï¼Œæ²¡æœ‰è¢«èµ‹å€¼ï¼Œé‚£ä¹ˆå®ƒçš„å€¼é»˜è®¤å°±æ˜¯undefinedã€‚

{% highlight javascript %}

var v;
v
// undefined

{% endhighlight %}

nullè¡¨ç¤ºéå¯¹è±¡ï¼ˆno objectï¼‰ï¼Œå³ä¸€ä¸ªæ²¡æœ‰å…·ä½“å€¼çš„å¯¹è±¡ã€‚å®ƒä¸æ˜¯ä¸€ç§å•ç‹¬çš„æ•°æ®ç±»å‹ï¼Œè€Œæ˜¯åŒ…å«åœ¨å¯¹è±¡ç±»å‹ï¼ˆobjectï¼‰ä¹‹ä¸­çš„ä¸€ç§ç‰¹æ®Šå€¼ã€‚

{% highlight javascript %}

var v = null;
v
// null

{% endhighlight %}

ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œvçš„ç±»å‹è®¾å®šä¸ºå¯¹è±¡ï¼Œä½†æ˜¯ç›®å‰è¿˜æ²¡æœ‰å…·ä½“çš„å€¼ï¼Œæ‰€ä»¥èµ‹å€¼ä¸ºnullã€‚

éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒJavaScriptçš„æ ‡è¯†ååŒºåˆ†å¤§å°å†™ï¼Œæ‰€ä»¥undefinedå’Œnullä¸åŒäºUndefinedå’ŒNullï¼ˆæˆ–è€…å…¶ä»–ä»…ä»…å¤§å°å†™ä¸åŒçš„è¯å½¢ï¼‰ï¼Œåè€…åªæ˜¯æ™®é€šçš„å˜é‡åã€‚

è¿™é‡Œéœ€è¦æ˜ç¡®çš„æ˜¯ï¼ŒJavaScriptçš„æ‰€æœ‰æ•°æ®ï¼Œéƒ½å¯ä»¥è§†ä¸ºå¯¹è±¡ã€‚ä¸ä»…åˆæˆç±»å‹çš„æ•°æ®ï¼ˆå¯¹è±¡ã€æ•°ç»„ã€å‡½æ•°ï¼‰æ˜¯å¯¹è±¡ï¼Œå°±è¿åŸå§‹ç±»å‹çš„æ•°æ®ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ï¼‰ä¹Ÿå¯ä»¥ç”¨å¯¹è±¡æ–¹å¼è°ƒç”¨ã€‚

ä¸‹é¢å…ˆç®€å•ä»‹ç»â€œå­—ç¬¦ä¸²â€å’Œâ€œå¸ƒå°”å€¼â€è¿™ä¸¤ç§åŸå§‹ç±»å‹çš„æ•°æ®ï¼Œå…¶ä»–æ•°æ®ç±»å‹åœ¨åé¢ç« èŠ‚ä»‹ç»ã€‚

### å­—ç¬¦ä¸²

å­—ç¬¦ä¸²å°±æ˜¯è‹¥å¹²ä¸ªæ’åœ¨ä¸€èµ·çš„å­—ç¬¦ï¼Œæ”¾åœ¨å•å¼•å·æˆ–åŒå¼•å·ä¹‹ä¸­ã€‚

{% highlight javascript %}

'abc'
"abc"

{% endhighlight %}

åæ–œæ å¯ä»¥å°†ä¸€è¡Œå­—ç¬¦ä¸²æ‹†æˆå¤šè¡Œã€‚

{% highlight javascript %}

var longString = "Long \
long \
long \
string";

longString
// "Long long long string"

{% endhighlight %}

ä¸Šé¢ä»£ç è¡¨ç¤ºï¼ŒåŠ äº†åæ–œæ ä»¥åï¼ŒåŸæ¥å†™åœ¨ä¸€è¡Œçš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥åˆ†æˆå¤šè¡Œï¼Œæ•ˆæœä¸å†™åœ¨åŒä¸€è¡Œå®Œå…¨ä¸€æ ·ã€‚ä½†æ˜¯ï¼Œè¿™ç§å†™æ³•æœ‰ä¸¤ä¸ªæ³¨æ„ç‚¹ï¼Œé¦–å…ˆï¼Œå®ƒæ˜¯ECMAScript 5æ–°æ·»åŠ çš„ï¼Œæµè§ˆå™¨IE 8ä¸æ”¯æŒï¼Œå…¶æ¬¡ï¼Œåæ–œæ çš„åé¢å¿…é¡»æ˜¯æ¢è¡Œç¬¦ï¼Œè€Œä¸èƒ½æœ‰å…¶ä»–å­—ç¬¦ï¼ˆæ¯”å¦‚ç©ºæ ¼ï¼‰ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚

å¦‚æœå­—ç¬¦ä¸²å†…éƒ¨æœ‰å•å¼•å·æˆ–åŒå¼•å·ï¼Œå¿…é¡»åœ¨å®ƒçš„å‰é¢åŠ ä¸Šåæ–œæ ï¼Œç”¨æ¥è½¬ä¹‰ã€‚

{% highlight javascript %}

'Did she say "Hello"?'
"Did she say \"Hello\"?"

'That\'s nice!'
"That's nice!"

{% endhighlight %}

ä»ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œå•å¼•å·æ ‡è¯†çš„å­—ç¬¦ä¸²å†…éƒ¨ï¼Œå…è®¸ç›´æ¥ä½¿ç”¨åŒå¼•å·ï¼›åŒå¼•å·æ ‡è¯†çš„å­—ç¬¦ä¸²å†…éƒ¨ï¼Œå…è®¸ç›´æ¥ä½¿ç”¨å•å¼•å·ã€‚å¦åˆ™ï¼Œå°±å¿…é¡»ä½¿ç”¨åæ–œæ å¯¹å•å¼•å·å’ŒåŒå¼•å·è¿›è¡Œè½¬ä¹‰ã€‚

å¦‚æœå­—ç¬¦ä¸²çš„å†…å®¹åŒ…å«åæ–œæ ï¼Œåˆ™åæ–œæ å‰é¢éœ€è¦å†åŠ ä¸€ä¸ªåæ–œæ ï¼Œç”¨æ¥è½¬ä¹‰ã€‚

{% highlight javascript %}

'Prev \\ Next'
// "Prev \ Next"

{% endhighlight %}

åæ–œæ è¿˜å¯ä»¥ç”¨æ¥è¡¨ç¤ºä¸€äº›ç‰¹æ®Šå«ä¹‰å­—ç¬¦ï¼Œæ¯”å¦‚æ¢è¡Œç¬¦ç”¨\nè¡¨ç¤ºã€‚

{% highlight javascript %}

'è¡Œ1\nè¡Œ2'
// "è¡Œ1
// è¡Œ2"

{% endhighlight %}

éœ€è¦ç”¨åæ–œæ è½¬ä¹‰çš„å­—ç¬¦ä¸²ï¼Œä¸»è¦æœ‰ä¸‹é¢è¿™äº›ï¼š

- \b	åé€€é”®
- \f	æ¢é¡µç¬¦
- \n	æ¢è¡Œç¬¦
- \r	å›è½¦é”®
- \t	åˆ¶è¡¨ç¬¦
- \v	å‚ç›´åˆ¶è¡¨ç¬¦
- \'	å•å¼•å·
- \"	åŒå¼•å·
- \\\\	åæ–œæ 
- \XXX	ç”¨ä¸‰ä½å…«è¿›åˆ¶æ•°ï¼ˆ0åˆ°377ï¼‰ä»£è¡¨ä¸€äº›ç‰¹æ®Šç¬¦å·ï¼Œæ¯”å¦‚\251è¡¨ç¤ºç‰ˆæƒç¬¦å·ã€‚
- \xXX	ç”¨ä¸¤ä½åå…­è¿›åˆ¶æ•°ï¼ˆ00åˆ°FFï¼‰ä»£è¡¨ä¸€äº›ç‰¹æ®Šç¬¦å·ï¼Œæ¯”å¦‚\xA9è¡¨ç¤ºç‰ˆæƒç¬¦å·ã€‚
- \uXXXX	ç”¨å››ä½åå…­è¿›åˆ¶çš„Unicodeç¼–å·ä»£è¡¨æŸä¸ªå­—ç¬¦ï¼Œæ¯”å¦‚\u00A9è¡¨ç¤ºç‰ˆæƒç¬¦å·ã€‚

{% highlight javascript %}

"\251"
// "Â©"

"\xA9"
// "Â©"

"\u00A9"
// "Â©"

{% endhighlight %}

å¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡éœ€è¦å†™æˆå¤šè¡Œï¼Œå¯ä»¥åœ¨æ¯è¡Œçš„ç»“å°¾åŠ ä¸Šåæ–œæ ã€‚

{% highlight javascript %}

var s = "This is \
a \
multiline \
string.";

s
// "This is a multiline string."

{% endhighlight %}

åœ¨JavaScriptå†…éƒ¨ï¼Œå­—ç¬¦ä¸²å¯ä»¥è¢«è§†ä¸ºå­—ç¬¦æ•°ç»„ï¼Œå› æ­¤æ¥å—æ•°ç»„çš„æ–¹æ‹¬å·è¿ç®—ç¬¦ï¼Œè¡¨ç¤ºè¿”å›æŸä¸ªä½ç½®çš„å­—ç¬¦ï¼ˆä»0å¼€å§‹ï¼‰ã€‚

{% highlight javascript %}

var s = 'hello';

s[0] // "h"
s[1] // "e"
s[4] // "o"

'hello'[1] // "e"

{% endhighlight %}

å¦‚æœæ–¹æ‹¬å·ä¸­çš„æ•°å­—è¶…è¿‡å­—ç¬¦ä¸²çš„èŒƒå›´ï¼Œæˆ–è€…æ–¹æ‹¬å·ä¸­æ ¹æœ¬ä¸æ˜¯æ•°å­—ï¼Œåˆ™è¿”å›undefinedã€‚

{% highlight javascript %}

'abc'[3] // undefined
'abc'[-1] // undefined
'abc'["x"] // undefined

{% endhighlight %}

ä½†æ˜¯ï¼Œå­—ç¬¦ä¸²ä¸æ•°ç»„çš„ç›¸ä¼¼æ€§ä»…æ­¤è€Œå·²ï¼ŒJavaScriptäº‹å®ä¸Šæ˜¯æŠŠå­—ç¬¦ä¸²å½“ä½œç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼Œè€Œä¸”æ— æ³•æ”¹å˜å­—ç¬¦ä¸²ä¹‹ä¸­æŸä¸ªå­—ç¬¦çš„å€¼ã€‚

{% highlight javascript %}

var s = 'hello';

delete s[0];
s // "hello"

s[1] = 'a';
s // "hello"

s[5] = '!';
s // "hello"

{% endhighlight %}

ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œå­—ç¬¦ä¸²å†…éƒ¨çš„å•ä¸ªå­—ç¬¦æ— æ³•æ”¹å˜å’Œå¢åˆ ï¼Œè¿™äº›æ“ä½œä¼šé»˜é»˜çš„å¤±è´¥ã€‚

{% highlight javascript %}

var s = 'hello';
s.length // 5

s.length = 3;
s.length // 5

s.length = 7;
s.length // 5

{% endhighlight %}

ä¸Šé¢ä»£ç è¡¨ç¤ºå­—ç¬¦ä¸²çš„lengthå±æ€§ä¹Ÿæ˜¯æ— æ³•æ”¹å˜çš„ã€‚

æ¯ä¸ªå­—ç¬¦åœ¨JavaScriptå†…éƒ¨éƒ½æ˜¯ä»¥16ä½çš„UTF-16æ ¼å¼å‚¨å­˜ï¼Œå¯ä»¥ç”¨"\uxxxx"çš„å†…ç å½¢å¼è¡¨ç¤ºï¼Œxxxxä»£è¡¨è¯¥å­—ç¬¦çš„Unicodeç¼–ç ã€‚æ¯”å¦‚ï¼Œ\u00A9ä»£è¡¨ç‰ˆæƒç¬¦å·ã€‚

{% highlight javascript %}

var s = '\u00A9';

s // "Â©"

{% endhighlight %}

éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒUTF-16æœ‰ä¸¤ç§é•¿åº¦ï¼šå¯¹äºU+0000åˆ°U+FFFFä¹‹é—´çš„å­—ç¬¦ï¼Œé•¿åº¦ä¸º16ä½ï¼ˆå³2ä¸ªå­—èŠ‚ï¼‰ï¼›å¯¹äºU+10000åˆ°U+10FFFFä¹‹é—´çš„å­—ç¬¦ï¼Œé•¿åº¦ä¸º32ä½ï¼ˆå³4ä¸ªå­—èŠ‚ï¼‰ï¼Œè€Œä¸”å‰ä¸¤ä¸ªå­—èŠ‚åœ¨0xD800åˆ°0xDBFFä¹‹é—´ï¼Œåä¸¤ä¸ªå­—èŠ‚åœ¨0xDC00åˆ°0xDFFFä¹‹é—´ã€‚ä¸¾ä¾‹æ¥è¯´ï¼ŒU+1D306å¯¹åº”çš„å­—ç¬¦ä¸ºğŒ†ï¼Œå®ƒå†™æˆUTF-16å°±æ˜¯0xD834å’Œ0xDF06ã€‚æµè§ˆå™¨ä¼šæ­£ç¡®å°†è¿™ä¸¤ä¸ªå­—èŠ‚è¯†åˆ«ä¸ºä¸€ä¸ªå­—ç¬¦ï¼Œä½†æ˜¯JavaScriptå†…éƒ¨çš„å­—ç¬¦é•¿åº¦æ€»æ˜¯å›ºå®šä¸º16ä½ï¼Œä¼šæŠŠè¿™ä¸¤ä¸ªå­—èŠ‚è§†ä¸ºä¸¤ä¸ªå­—ç¬¦ã€‚

{% highlight javascript %}

var s = "\uD834\uDF06"

s // "ğŒ†"
s.length // 2

{% endhighlight %}

ä¸Šé¢ä»£ç è¯´æ˜ï¼Œå¯¹äºäºU+10000åˆ°U+10FFFFä¹‹é—´çš„å­—ç¬¦ï¼ŒJavaScriptæ€»æ˜¯è§†ä¸ºä¸¤ä¸ªå­—ç¬¦ï¼ˆå­—ç¬¦ä¸²é•¿åº¦ä¸º2ï¼‰,æ‰€ä»¥å¤„ç†çš„æ—¶å€™ï¼Œå¿…é¡»æŠŠè¿™ä¸€ç‚¹è€ƒè™‘åœ¨å†…ã€‚å‡å®šCæ˜¯å­—ç¬¦çš„Unicodeç¼–å·ï¼ŒHæ˜¯å¯¹åº”çš„UTF-16çš„å‰ä¸¤ä¸ªå­—èŠ‚ï¼ŒLæ˜¯å¯¹åº”çš„UTF-16çš„åä¸¤ä¸ªå­—èŠ‚ï¼Œåˆ™å®ƒä»¬ä¹‹é—´çš„æ¢ç®—å…³ç³»å¦‚ä¸‹ï¼š

{% highlight javascript %}

// å°†å¤§äºU+FFFFçš„å­—ç¬¦ï¼Œä»Unicodeè½¬ä¸ºUTF-16
H = Math.floor((C - 0x10000) / 0x400) + 0xD800
L = (C - 0x10000) % 0x400 + 0xDC00

// å°†å¤§äºU+FFFFçš„å­—ç¬¦ï¼Œä»UTF-16è½¬ä¸ºUnicode
C = (H - 0xD800) * 0x400 + L - 0xDC00 + 0x10000

{% endhighlight %}

ä¸‹é¢çš„æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥è¯†åˆ«æ‰€æœ‰UTF-16å­—ç¬¦ã€‚

{% highlight javascript %}

([\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF])

{% endhighlight %}

### å¸ƒå°”å€¼

å¸ƒå°”å€¼åŒ…å«trueå’Œfalseä¸¤ä¸ªå€¼ã€‚ä¸‹åˆ—è¿ç®—ç¬¦ä¼šè¿”å›å¸ƒå°”å€¼ï¼š

- ä¸¤å…ƒé€»è¾‘è¿ç®—ç¬¦ï¼š && (And)ï¼Œ|| (Or)
- å‰ç½®é€»è¾‘è¿ç®—ç¬¦ï¼š ! (Not)
- ç›¸ç­‰è¿ç®—ç¬¦ï¼š===ï¼Œ!==ï¼Œ==ï¼Œ!=
- æ¯”è¾ƒè¿ç®—ç¬¦ï¼š>ï¼Œ>=ï¼Œ<ï¼Œ<=

å¦‚æœJavaScripté¢„æœŸæŸä¸ªä½ç½®åº”è¯¥æ˜¯å¸ƒå°”å€¼ï¼Œä¼šå°†è¯¥ä½ç½®ä¸Šç°æœ‰çš„å€¼è‡ªåŠ¨è½¬ä¸ºå¸ƒå°”å€¼ã€‚è½¬æ¢è§„åˆ™æ˜¯é™¤äº†ä¸‹é¢äº”ä¸ªå€¼è¢«è½¬ä¸ºfalseï¼Œå…¶ä»–å€¼éƒ½è§†ä¸ºtrueã€‚

- undefined
- null
- false
- 0
- ""

ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚

{% highlight javascript %}

if (""){ console.log(true);}
// æ²¡æœ‰ä»»ä½•è¾“å‡º

{% endhighlight %}

ä¸Šé¢ä»£ç çš„ifå‘½ä»¤åé¢æ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼Œè¢«è½¬ä¸ºfalseï¼Œå› æ­¤ä¸ä¼šè¿›å…¥ä»£ç å—ï¼Œæ‰€ä»¥æ²¡æœ‰ä»»ä½•è¾“å‡ºã€‚

éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œç©ºæ•°ç»„ï¼ˆ[]ï¼‰å’Œç©ºå¯¹è±¡ï¼ˆ{}ï¼‰å¯¹åº”çš„å¸ƒå°”å€¼ï¼Œéƒ½æ˜¯trueã€‚

{% highlight javascript %}

if ([]){ console.log(true);}
// true

if ({}){ console.log(true);}
// true

{% endhighlight %}

æ›´å¤šå…³äºæ•°æ®ç±»å‹è½¬æ¢çš„ä»‹ç»ï¼Œå‚è§ã€Šæ•°æ®ç±»å‹è½¬æ¢ã€‹ä¸€èŠ‚ã€‚

### typeofè¿ç®—ç¬¦

JavaScriptæœ‰ä¸‰ç§æ–¹æ³•ï¼Œå¯ä»¥ç¡®å®šä¸€ä¸ªå€¼åˆ°åº•æ˜¯ä»€ä¹ˆç±»å‹ã€‚

- typeofè¿ç®—ç¬¦
- instanceofè¿ç®—ç¬¦
- Object.prototype.toStringæ–¹æ³•

instanceofè¿ç®—ç¬¦æ”¾åœ¨ã€Šé¢å‘å¯¹è±¡ç¼–ç¨‹ã€‹ä¸€ç« ä»‹ç»ï¼ŒObject.prototype.toStringæ–¹æ³•æ”¾åœ¨ã€Šæ ‡å‡†åº“ã€‹çš„Object ä¸€èŠ‚ä»‹ç»ã€‚ä¸‹é¢ä»‹ç»typeof è¿ç®—ç¬¦ã€‚

typeofè¿ç®—ç¬¦å¯ä»¥è¿”å›ä¸€ä¸ªå€¼çš„æ•°æ®ç±»å‹ï¼Œå¯èƒ½æœ‰ä»¥ä¸‹ç»“æœï¼š

**ï¼ˆ1ï¼‰æ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼åˆ†åˆ«è¿”å›numberã€stringã€booleanã€‚**

{% highlight javascript %}

typeof 123 // "number"
typeof "123" // "string"
typeof false // "boolean"

{% endhighlight %}

**ï¼ˆ2ï¼‰å‡½æ•°è¿”å›functionã€‚**

{% highlight javascript %}

// å®šä¹‰ä¸€ä¸ªç©ºå‡½æ•°
function f(){}

typeof f
// "function"

{% endhighlight %}

**ï¼ˆ3ï¼‰undefinedè¿”å›undefinedã€‚**

{% highlight javascript %}

typeof undefined
// "undefined"

{% endhighlight %}

åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œtypeofå¯ä»¥ç”¨æ¥æ£€æŸ¥ä¸€ä¸ªæ²¡æœ‰å£°æ˜çš„å˜é‡ï¼Œè€Œä¸æŠ¥é”™ã€‚

{% highlight javascript %}

v
// ReferenceError: v is not defined

typeof v
// "undefined"

{% endhighlight %}

å®é™…ç¼–ç¨‹ä¸­ï¼Œè¿™ä¸ªç‰¹ç‚¹é€šå¸¸ç”¨åœ¨åˆ¤æ–­è¯­å¥ã€‚

{% highlight javascript %}

// é”™è¯¯çš„å†™æ³•
if (v){
	// ...
}
// ReferenceError: v is not defined

// æ­£ç¡®çš„å†™æ³•
if (typeof v === "undefined"){
	// ...
}

{% endhighlight %}

**ï¼ˆ4ï¼‰é™¤æ­¤ä»¥å¤–ï¼Œéƒ½è¿”å›objectã€‚**

{% highlight javascript %}

typeof window // "object"
typeof {} // "object"
typeof [] // "object"
typeof null // "object"

{% endhighlight %}

ä»ä¸Šé¢ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œç©ºæ•°ç»„ï¼ˆ[]ï¼‰çš„ç±»å‹ä¹Ÿæ˜¯objectï¼Œè¿™è¡¨ç¤ºåœ¨JavaScriptå†…éƒ¨ï¼Œæ•°ç»„æœ¬è´¨ä¸Šåªæ˜¯ä¸€ç§ç‰¹æ®Šçš„å¯¹è±¡ã€‚å¦å¤–ï¼Œnullçš„ç±»å‹ä¹Ÿæ˜¯objectï¼Œè¯´æ˜å®ƒä¸æ˜¯ä¸€ç§çš„æ•°æ®ç±»å‹ã€‚

æ—¢ç„¶typeofå¯¹æ•°ç»„ï¼ˆarrayï¼‰å’Œå¯¹è±¡ï¼ˆobjectï¼‰çš„æ˜¾ç¤ºç»“æœéƒ½æ˜¯objectï¼Œé‚£ä¹ˆæ€ä¹ˆåŒºåˆ†å®ƒä»¬å‘¢ï¼Ÿinstanceofè¿ç®—ç¬¦å¯ä»¥åšåˆ°ã€‚

{% highlight javascript %}

var o = {};
var a = [];

o instanceof Array // false
a instanceof Array // true

{% endhighlight %}

instanceofè¿ç®—ç¬¦çš„è¯¦ç»†è§£é‡Šï¼Œè¯·è§ã€Šé¢å‘å¯¹è±¡ç¼–ç¨‹ã€‹ä¸€ç« ã€‚

## ç»“å°¾çš„åˆ†å·

### ä¸ä½¿ç”¨åˆ†å·ç»“å°¾çš„è¯­å¥ 

åˆ†å·è¡¨ç¤ºä¸€æ¡è¯­å¥çš„ç»“å°¾ã€‚ä½†æ˜¯ï¼Œæœ‰ä¸€äº›è¯­æ³•ç»“æ„ä¸éœ€è¦åœ¨è¯­å¥çš„ç»“å°¾æ·»åŠ åˆ†å·ï¼Œä¸»è¦æ˜¯ä»¥ä¸‹ä¸‰ç§æƒ…å†µã€‚

**ï¼ˆ1ï¼‰forå’Œwhileå¾ªç¯**

{% highlight javascript %}

for(;;){} // æ²¡æœ‰åˆ†å·

while(true){} // æ²¡æœ‰åˆ†å·

{% endhighlight %}

éœ€è¦æ³¨æ„çš„æ˜¯do...whileå¾ªç¯æ˜¯æœ‰åˆ†å·çš„ã€‚

{% highlight javascript %}

do {
	a--;
} while(a > 0); // åˆ†å·ä¸èƒ½çœç•¥

{% endhighlight %}

**ï¼ˆ2ï¼‰åˆ†æ”¯è¯­å¥ï¼šifï¼Œ switchï¼Œ try**

{% highlight javascript %}

if (true) {} // æ²¡æœ‰åˆ†å·

switch () {} // æ²¡æœ‰åˆ†å·

try {} catch {} // æ²¡æœ‰åˆ†å·

{% endhighlight %}

**ï¼ˆ3ï¼‰å‡½æ•°çš„å£°æ˜è¯­å¥**

{% highlight javascript %}

function f() {} // æ²¡æœ‰åˆ†å·

{% endhighlight %}

ä½†æ˜¯å‡½æ•°è¡¨è¾¾å¼ä»ç„¶è¦ä½¿ç”¨åˆ†å·ã€‚

{% highlight javascript %}

var f = function f() {};

{% endhighlight %}

ä»¥ä¸Šä¸‰ç§æƒ…å†µï¼Œå¦‚æœä½¿ç”¨äº†åˆ†å·ï¼Œå¹¶ä¸ä¼šå‡ºé”™ã€‚å› ä¸ºï¼Œè§£é‡Šå¼•æ“ä¼šæŠŠè¿™ä¸ªåˆ†å·è§£é‡Šä¸ºç©ºè¯­å¥ã€‚

### åˆ†å·çš„è‡ªåŠ¨æ·»åŠ 

é™¤äº†æœ¬æ¥å°±ä¸å†™åˆ†å·çš„æƒ…å†µï¼ŒJavaScriptå¼•æ“è¿˜æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œå°±æ˜¯åœ¨åº”è¯¥å†™åˆ†å·å´æ²¡å†™çš„æƒ…å†µä¸‹ï¼Œå®ƒä¼šè‡ªåŠ¨æ·»åŠ ã€‚

{% highlight javascript %}

var a = b + c

// ç­‰åŒäº

var a = b + c;

{% endhighlight %}

ä½†æ˜¯ï¼Œè¿™ç§è‡ªåŠ¨æ·»åŠ ä¸æ˜¯ç»å¯¹çš„ã€‚å¦‚æœä¸‹ä¸€è¡Œçš„å¼€å§‹å¯ä»¥ä¸æœ¬è¡Œçš„ç»“å°¾è¿åœ¨ä¸€èµ·è§£é‡Šï¼Œå°±ä¸ä¼šè‡ªåŠ¨æ·»åŠ åˆ†å·ã€‚

{% highlight javascript %}

"abc"
.length

// ç­‰åŒäº

"abc".length

{% endhighlight %}

ä¸Šé¢ä¸¤è¡Œå¦‚æœä¸­é—´æ²¡æœ‰åˆ†å·å°±æ¢è¡Œï¼Œå°±ä¸ä¼šè‡ªåŠ¨æ·»åŠ åˆ†å·ï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥æ”¾åœ¨ä¸€èµ·è§£é‡Šã€‚ä¸‹é¢è¿™ä¸ªä¾‹å­ä¹Ÿä¸ä¼šè‡ªåŠ¨æ·»åŠ åˆ†å·ã€‚

{% highlight javascript %}

3 * (2 * (4 + (3 - 5))) 
+ 
(10 * (27 / 6))

// ç­‰åŒäº

3 * (2 * (4 + (3 - 5))) + (10 * (27 / 6))

{% endhighlight %}

ä¸Šé¢çš„ä¾‹å­è¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“çœ‹å‡ºæ¥çš„ï¼Œä½†æ˜¯ä¸‹é¢çš„ä¾‹å­å°±ä¸é‚£ä¹ˆå®¹æ˜“å‘ç°äº†ã€‚å®ƒä»¬éƒ½ä¸ä¼šè‡ªåŠ¨æ·»åŠ åˆ†å·ã€‚

{% highlight javascript %}

var a = b + c
(d+e).toString();
// è§£é‡Šä¸ºc(d+e)ï¼Œå³å…ˆè¿›è¡Œä¹˜æ³•è¿ç®—

a = b
/hi/g.exec(c).map(d);
// è§£é‡Šä¸º a = b / hi / g.exec(c).map(d)ï¼Œå³æŠŠæ­£åˆ™è¡¨è¾¾å¼çš„æ–œæ å½“ä½œé™¤æ³•è¿ç®—ç¬¦   

var a = "b"
[ "red", "green" ].forEach(function(c) { console.log(c) })
// ç»“æœæŠ¥é”™ï¼Œå› ä¸ºä¸¤è¡Œè¿åœ¨ä¸€èµ·ï¼Œ
// è§£é‡Šä¸º"b"["red", "green"]ï¼Œå³æŠŠå­—ç¬¦ä¸²å½“ä½œä¸€ä¸ªæ•°ç»„ï¼ŒæŒ‰ç´¢å¼•å–å€¼ 

var a = 0;
var f = function(x) { return x }
(a++)
// fç­‰äº0ï¼Œå› ä¸º(a++)è¢«è§†ä¸ºåŒ¿åå‡½æ•°çš„è°ƒç”¨

return a +
b;

return (a
+ b)
 
obj.foo(arg1,
arg2)

{% endhighlight %}

ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨æ²¡æœ‰åˆ†å·ç»“å°¾çš„æƒ…å†µä¸‹ï¼Œå¦‚æœä¸‹ä¸€è¡Œèµ·é¦–çš„æ˜¯(ã€ [ ã€+ã€-ã€/è¿™äº”ä¸ªå­—ç¬¦ä¸­çš„ä¸€ä¸ªï¼Œåˆ†å·ä¸ä¼šè¢«è‡ªåŠ¨æ·»åŠ ã€‚åªæœ‰ä¸‹ä¸€è¡Œçš„å¼€å§‹ä¸æœ¬è¡Œçš„ç»“å°¾ï¼Œæ— æ³•æ”¾åœ¨ä¸€èµ·è§£é‡Šï¼ŒJavaScriptå¼•æ“æ‰ä¼šè‡ªåŠ¨æ·»åŠ åˆ†å·ã€‚

{% highlight javascript %}

if (a < 0) a = 0
console.log(a)

// ç­‰åŒäºä¸‹é¢çš„ä»£ç ï¼Œå› ä¸º0consoleæ²¡æœ‰æ„ä¹‰

if (a < 0) a = 0;
console.log(a)

{% endhighlight %}

å¦å¤–ï¼Œå¦‚æœä¸€è¡Œçš„èµ·é¦–æ˜¯â€œè‡ªå¢â€ï¼ˆ++ï¼‰æˆ–â€œè‡ªå‡â€ï¼ˆ--ï¼‰è¿ç®—ç¬¦ï¼Œåˆ™å®ƒä»¬çš„å‰é¢ä¼šè‡ªåŠ¨æ·»åŠ åˆ†å·ã€‚

{% highlight javascript %}

a = b = c = 1
a
++
b
--
c

console.log(a, b, c)
// 1 2 0

{% endhighlight %}

ä¹‹æ‰€ä»¥ä¼šå¾—åˆ°â€œ1 2 0â€çš„ç»“æœï¼ŒåŸå› æ˜¯è‡ªå¢å’Œè‡ªå‡è¿ç®—ç¬¦å‰ï¼Œè‡ªåŠ¨è¢«åŠ ä¸Šäº†åˆ†å·ã€‚ä¸Šé¢çš„ä»£ç å®é™…ä¸Šç­‰åŒäºä¸‹é¢çš„å½¢å¼ï¼š

{% highlight javascript %}

a = b = c = 1;
a;
++b;
--c;

{% endhighlight %}

å¦‚æœcontinueã€breakã€returnå’Œthrowè¿™å››ä¸ªè¯­å¥åé¢ï¼Œç›´æ¥è·Ÿæ¢è¡Œç¬¦ï¼Œåˆ™ä¼šè‡ªåŠ¨æ·»åŠ åˆ†å·ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœreturnè¯­å¥è¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡çš„å­—é¢é‡ï¼Œèµ·é¦–çš„å¤§æ‹¬å·ä¸€å®šè¦å†™åœ¨åŒä¸€è¡Œï¼Œå¦åˆ™å¾—ä¸åˆ°é¢„æœŸç»“æœã€‚

{% highlight javascript %}

return
{ first: "Jane" };
    
// è§£é‡Šæˆ
return;
{ first: "Jane" };

{% endhighlight %}

ç”±äºè§£é‡Šå¼•æ“è‡ªåŠ¨æ·»åŠ åˆ†å·çš„è¡Œä¸ºéš¾ä»¥é¢„æµ‹ï¼Œå› æ­¤ç¼–å†™ä»£ç çš„æ—¶å€™ä¸åº”è¯¥çœç•¥è¡Œå°¾çš„åˆ†å·ã€‚

## å‚è€ƒé“¾æ¥

- Axel Rauschmayer, [A quick overview of JavaScript](http://www.2ality.com/2011/10/javascript-overview.html)
- Axel Rauschmayer, [Improving the JavaScript typeof operator](http://www.2ality.com/2011/11/improving-typeof.html)
- Axel Rauschmayer, [Automatic semicolon insertion in JavaScript](http://www.2ality.com/2011/05/semicolon-insertion.html)
- Axel Rauschmayer, [Categorizing values in JavaScript](http://www.2ality.com/2013/01/categorizing-values.html)
- MDN, [window.btoa](https://developer.mozilla.org/en-US/docs/DOM/window.btoa)
- Rod Vagg, [JavaScript and Semicolons](http://dailyjs.com/2012/04/19/semicolons/)
- Mathias Bynens, [JavaScriptâ€™s internal character encoding: UCS-2 or UTF-16?](http://mathiasbynens.be/notes/javascript-encoding)
- Mathias Bynens, [JavaScript has a Unicode problem](http://mathiasbynens.be/notes/javascript-unicode)
