jQuery(document).on("click","header a",function(a){$("header").animate({marginBottom:130},200).animate({marginBottom:30},200)}),jQuery(document).on("click","#toc a",function(a){$("header").animate({marginBottom:130},200).animate({marginBottom:30},200)}),jQuery(document).ready(function(){return 0===$("article h2").length?($("#toc").remove(),0):($("#toc").toc({selectors:"h2,h3,h4",container:"article"}),$("#toc ul li.toc-h2").clone().appendTo("nav section li.nav-3 ul"),$("#toc").before("<h2>目录</h2>"),"参考链接"===$.trim($("article h2:nth-last-of-type(1)").text())&&$("article h2:nth-last-of-type(1)").addClass("reference").next("ul").addClass("reference-list"),void $("#toc~h2").wrap('<div class="chapter" />'))}),jQuery(window).load(function(){if(""!==window.location.hash){var a=$(window.location.hash).position().top||100;$(window).scrollTop(a-100)}}),function(a,b,c){function d(a){return a=a||location.href,"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var e,f="hashchange",g=document,h=a.event.special,i=g.documentMode,j="on"+f in b&&(i===c||i>7);a.fn[f]=function(a){return a?this.bind(f,a):this.trigger(f)},a.fn[f].delay=50,h[f]=a.extend(h[f],{setup:function(){return j?!1:void a(e.start)},teardown:function(){return j?!1:void a(e.stop)}}),e=function(){function e(){var c=d(),g=n(k);c!==k?(m(k=c,g),a(b).trigger(f)):g!==k&&(location.href=location.href.replace(/#.*/,"")+g),h=setTimeout(e,a.fn[f].delay)}var h,i={},k=d(),l=function(a){return a},m=l,n=l;return i.start=function(){h||e()},i.stop=function(){h&&clearTimeout(h),h=c},a.browser.msie&&!j&&function(){var b,c;i.start=function(){b||(c=a.fn[f].src,c=c&&c+d(),b=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){c||m(d()),e()}).attr("src",c||"javascript:0").insertAfter("body")[0].contentWindow,g.onpropertychange=function(){try{"title"===event.propertyName&&(b.document.title=g.title)}catch(a){}})},i.stop=l,n=function(){return d(b.location.href)},m=function(c,d){var e=b.document,h=a.fn[f].domain;c!==d&&(e.title=g.title,e.open(),h&&e.write('<script>document.domain="'+h+'"</script>'),e.close(),b.location.hash=c)}}(),i}()}(jQuery,this),jQuery(window).hashchange(function(){if(""!==window.location.hash)var a=$(window.location.hash).position().top||0;else var a=0;$(window).scrollTop(a>0?a-30:0)});